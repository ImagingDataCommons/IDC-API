# [START swagger]
swagger: "2.0"
info:
  description: "IDC API Endpoints, version 1"
  title: "IDC API"
  version: "1.0"
#host: "api-dot-idc-dev.appspot.com"
#host: "127.0.0.1:8095"
servers:
  - url: 127.0.0.1:8095
  - url: localhost:8095
basePath: "/v1"
# [END swagger]
consumes:
- "application/json"
produces:
- "application/json"
schemes:
#- "https"
- "http"
tags:
  - name: default
  - name: cohorts
  - name: manifest
  - name: programs
  - name: query
  - name: users
paths:
  /about:
    get:
      description: "API Description and Swagger UI link"
      operationId: "root-get"
      produces:
        - "application/json"
      responses:
        200:
          description: "API Description and link to SwaggerUI interface."
          schema:
            $ref: "#/definitions/responseMessage"
        500:
          description: "Server error message"
          schema:
            $ref: "#/definitions/errorMessage"

  /swagger:
    get:
      description: "Swagger UI of the API spec"
      operationId: "swaggerUI"
      produces:
        - "text/html"
      responses:
        200:
          description: "Swagger UI of the API spec"
        500:
          description: "Server error message"
          schema:
            $ref: "#/definitions/errorMessage"

  /oauth2callback:
    get:
      description: "OAuth2 Redirect URI"
      operationId: "oauth2redirect"
      produces:
        - "text/html"
      responses:
        200:
          description: "OAuth2 Redirect URI"
        500:
          description: "Server error message"
          schema:
            $ref: "#/definitions/errorMessage"

  /programs:
    get:
      description: "Get a list of the available programs"
      tags:
        - programs
      operationId: "getPrograms"
      produces:
        - "application/json"
      responses:
        200:
          description: "A list of the available programs."
          schema:
            $ref: "#/definitions/programListResponse"
        500:
          description: "Server error message"
          schema:
            $ref: "#/definitions/errorMessage"

  /programs/{program_name}:
    get:
      description: "Get a list of the available collections and versions for a specified program."
      tags:
        - programs
      operationId: "getCollections"
      produces:
        - "application/json"
      parameters:
        - name: program_name
          in: path
          description: "Program short_name"
          type: string
          required: true
      responses:
        200:
          description: "A list of the collections available in this API with versions."
          schema:
            $ref: "#/definitions/collectionListResponse"
        500:
          description: "Server error message"
          schema:
            $ref: "#/definitions/errorMessage"

  # Different versions of a collection can have different fields
  /programs/{program_name}/{collection_name}/:
    get:
      description: "Get list of the attributes in some attribute group in a version of a collection. If no version is given, return data for the latest version"
      tags:
        - programs
      operationId: "getFields"
      consumes:
        - "application/json"
      produces:
        - "application/json"
      parameters:
        - name: program_name
          in: path
          description: "Program short_name"
          type: string
          required: true
        - name: collection_name
          in: path
          description: "Collection short_name"
          type: string
          required: true
        - name: attribute_group
          in: query
          description: "The group of attributes to be enumerated"
          type: string
          required: true
        - name: version
          in: query
          description: "Version"
          type: string
          required: false
      responses:
        200:
          description: "A list of the fields in a specific version of a collection"
          schema:
            $ref: "#/definitions/collectionFieldsResponse"
        500:
          description: "Server error message"
          schema:
            $ref: "#/definitions/errorMessage"

  /cohorts/preview:
    post:
      description: "Preview the files that a cohort would have, given on a supplied filter set."
      tags:
        -   cohorts
      operationId: "cohortPreview"
      consumes:
        - "application/json"
      produces:
        - "application/json"
      parameters:
        - name: "filter"
          in: body
          required: true
          description: "Filter to apply to this cohort preview."
          schema:
            type: "object"
            properties:
              filter:
                $ref: "#/definitions/cohortSpec"
        - name: case_insensitive
          in: query
          description: "BigQuery string comparisons are case sensitive by default - this will perform string comparisons without case sensitivity."
          type: string
          required: false
          default: "True"
          enum: ["True", "False"]
        - name: include_filter
          in: query
          description: "If True, return the filter that defines this cohort."
          type: string
          required: false
          default: "True"
          enum: ["True", "False"]
        - name: include_files
          in: query
          description: "If True, return the list of files matching this cohort's filters."
          type: string
          required: false
          default: "True"
          enum: ["True", "False"]
        - name: include_DOIs
          in: query
          description: "If True, return a digital object identifiers for each study, series and instance in the cohort."
          type: string
          required: false
          default: "True"
          enum: ["True", "False"]
        - name: include_URLs
          in: query
          description: "If True, return one or more URLs for each study, series and instance in the cohort."
          type: string
          required: false
          default: "True"
          enum: ["True", "False"]
        - name: fetch_count
          in: query
          description: "The number of file entries to retrieve this call."
          type: integer
          required: false
          default: 5000
          minimum: 1
          maximum: 40000
        - name: page
          in: query
          description: "The page, in per fetch count file entries (def. 5000 if not provided), to retrieve."
          type: integer
          required: false
          default: 1
          minimum: 1
        - name: offset
          in: query
          description: "The number of file entries to skip in the return set."
          type: integer
          required: false
          default: 0
          minimum: 0
      responses:
        200:
          description: "Information about the specified cohort"
          schema:
            $ref: "#/definitions/cohortResponse"
        500:
          description: "Server error message"
          schema:
            $ref: "#/definitions/errorMessage"

  /cohorts:
    get:
      description: "Get metadata on the user's cohorts."
      tags:
        - cohorts
      operationId: "getCohorts"
      produces:
        - "application/json"
      responses:
        200:
          description: "A list of the user's cohorts."
          schema:
            $ref: "#/definitions/cohortList"
        500:
          description: "Server error message"
          schema:
            $ref: "#/definitions/errorMessage"
      security:
        - google_id_token: []

    post:
      description: "Create a cohort as defined by the specified filter and collections."
      tags:
        -   cohorts
      operationId: "cohortCreate"
      consumes:
        - "application/json"
      produces:
        - "application/json"
      parameters:
        - in: body
          name: "cohort_def"
          required: true
          description: "Filters, name, and description used to create this cohort."
          schema:
            $ref: "#/definitions/cohortSpec"
        - name: case_insensitive
          in: query
          description: "BigQuery string comparisons are case sensitive by default - this will perform string comparisons without case sensitivity."
          type: string
          required: false
          default: "True"
          enum: ["True", "False"]
        - name: include_filter
          in: query
          description: "If True, return the filter that defines this cohort."
          type: string
          required: false
          default: "True"
          enum: ["True", "False"]
        - name: include_files
          in: query
          description: "If True, return the list of files matching this cohort's filters."
          type: string
          required: false
          default: "True"
          enum: ["True", "False"]
        - name: include_DOIs
          in: query
          description: "If True, return a digital object identifiers study, series and instance in the cohort."
          type: string
          required: false
          default: "True"
          enum: ["True", "False"]
        - name: include_URLs
          in: query
          description: "If True, return one or more URLs for for each each study, series and instance in the cohort."
          type: string
          required: false
          default: "True"
          enum: ["True", "False"]
        - name: fetch_count
          in: query
          description: "The number of file entries to retrieve this call."
          type: integer
          required: false
          default: 5000
          minimum: 1
          maximum: 40000
        - name: page
          in: query
          description: "The page, in per fetch count file entries (def. 5000 if not provided), to retrieve."
          type: integer
          required: false
          default: 1
          minimum: 1
        - name: offset
          in: query
          description: "The number of file entries to skip in the return set."
          type: integer
          required: false
          default: 0
          minimum: 0
      responses:
        200:
          description: "Summary information about the cohort generated."
          schema:
            $ref: "#/definitions/cohortResponse"
        500:
          description: "Server error message"
          schema:
            $ref: "#/definitions/errorMessage"
      security:
        - google_id_token: []

  /cohorts/{cohort_id}:
    get:
      description: "Get information for the specified cohort."
      tags:
        -   cohorts
      operationId: "getCohort"
      produces:
        - "application/json"
      parameters:
        - name: cohort_id
          in: path
          description: "Numeric IDC Cohort ID"
          type: integer
          required: true
        - name: include_filter
          in: query
          description: "If True, return the filter that defines this cohort."
          type: string
          required: false
          default: "True"
          enum: ["True", "False"]
        - name: include_files
          in: query
          description: "If True, return the list of files matching this cohort's filters."
          type: string
          required: false
          default: "True"
          enum: ["True", "False"]
        - name: include_DOIs
          in: query
          description: "If True, return a digital object identifiers for each study, series and instance in the cohort."
          type: string
          required: false
          default: "True"
          enum: ["True", "False"]
        - name: include_URLs
          in: query
          description: "If True, return one or more URLs for each study, series and instance in the cohort."
          type: string
          required: false
          default: "True"
          enum: ["True", "False"]
        - name: fetch_count
          in: query
          description: "The number of file entries to retrieve this call."
          type: integer
          required: false
          default: 5000
          minimum: 1
          maximum: 40000
        - name: page
          in: query
          description: "The page, in per fetch count file entries (def. 5000 if not provided), to retrieve."
          type: integer
          required: false
          default: 1
          minimum: 1
        - name: offset
          in: query
          description: "The number of file entries to skip in the return set."
          type: integer
          required: false
          default: 0
          minimum: 0
      responses:
        200:
          description: "Information about the specified cohort"
          schema:
            $ref: "#/definitions/cohortResponse"
        500:
          description: "Server error message"
          schema:
            $ref: "#/definitions/errorMessage"
      security:
        - google_id_token: []

    delete:
      description: "Delete the specified cohort."
      tags:
        -   cohorts
      operationId: "cohortDelete"
      produces:
        - "application/json"
      parameters:
        - name: cohort_id
          in: path
          description: "Numeric IDC Cohort ID"
          type: integer
          required: true
        - name: include_filter
          in: query
          description: "If True, return the filter that defines this cohort."
          type: string
          required: false
          default: "False"
          enum: ["True", "False"]
        - name: include_files
          in: query
          description: "If True, return the list of files matching this cohort's filters."
          type: string
          required: false
          default: "False"
          enum: ["True", "False"]
        - name: include_DOIs
          in: query
          description: "If True, return a digital object identifiers for each study, series and instance in the cohort."
          type: string
          required: false
          default: "True"
          enum: ["True", "False"]
        - name: include_URLs
          in: query
          description: "If True, return one or more URLs for each study, series and instance in the cohort."
          type: string
          required: false
          default: "True"
          enum: ["True", "False"]
        - name: fetch_count
          in: query
          description: "The number of file entries to retrieve this call."
          type: integer
          required: false
          default: 5000
          minimum: 1
          maximum: 40000
        - name: page
          in: query
          description: "The page, in per fetch count file entries (def. 5000 if not provided), to retrieve."
          type: integer
          required: false
          default: 1
          minimum: 1
        - name: offset
          in: query
          description: "The number of file entries to skip in the return set."
          type: integer
          required: false
          default: 0
          minimum: 0
      responses:
        200:
          description: "Summary information about the deleted cohort."
          schema:
            $ref: "#/definitions/cohortResponse"
        500:
          description: "Server error message"
          schema:
            $ref: "#/definitions/errorMessage"
      security:
        - google_id_token: []

  /query/{cohort_id}:
    post:
      description: "Perform a query against a cohort and return results"
      tags:
        - query
      operationId: "queryCohort"
      produces:
        - "application/json"
      parameters:
        - name: cohort_id
          in: path
          description: "Numeric IDC Cohort ID"
          type: integer
          required: true
        - name: "fields"
          in: body
          required: true
          description: "List of fields to return."
          schema:
            $ref: "#/definitions/queryFields"
            required: true
        - name: case_insensitive
          in: query
          description: "BigQuery string comparisons are case sensitive by default - this will perform string comparisons without case sensitivity."
          type: string
          required: false
          default: "True"
          enum: ["True", "False"]
        - name: fetch_count
          in: query
          description: "The number of file entries to retrieve this call."
          type: integer
          required: false
          default: 5000
          minimum: 1
          maximum: 40000
        - name: page
          in: query
          description: "The page, in per fetch count file entries (def. 5000 if not provided), to retrieve."
          type: integer
          required: false
          default: 1
          minimum: 1
        - name: offset
          in: query
          description: "The number of file entries to skip in the return set."
          type: integer
          required: false
          default: 0
          minimum: 0
      responses:
        200:
          description: "Query results"
          schema:
            $ref: "#/definitions/queryResponse"
        500:
          description: "Server error message"
          schema:
            $ref: "#/definitions/errorMessage"

  /manifest/{cohort_id}:
    get:
      description: "Get a manifest of the DICOM entities in a cohort"
      tags:
        - manifest
      operationId: "getManifest"
      produces:
        - "application/json"
      parameters:
        - name: cohort_id
          in: path
          description: "Numeric IDC Cohort ID"
          type: integer
          required: true
        - name: fetch_count
          in: query
          description: "The number of file entries to retrieve this call."
          type: integer
          required: false
          default: 5000
          minimum: 1
          maximum: 40000
        - name: page
          in: query
          description: "The page, in per fetch count file entries (def. 5000 if not provided), to retrieve."
          type: integer
          required: false
          default: 1
          minimum: 1
        - name: offset
          in: query
          description: "The number of file entries to skip in the return set."
          type: integer
          required: false
          default: 0
          minimum: 0
      responses:
        200:
          description: "Manifest"
          schema:
            $ref: "#/definitions/manifestResponse"
        500:
          description: "Server error message"
          schema:
            $ref: "#/definitions/errorMessage"

  /users/account_details:
    get:
      description: "Retrieve current account information."
      tags:
        -   users
      operationId: "getUserAccountDetails"
      produces:
        - "application/json"
      responses:
        200:
          description: "Current account information for the validated user."
          schema:
            $ref: "#/definitions/accountDetailsResponse"
        400:
          description: "Invalid request error message"
          schema:
            $ref: "#/definitions/errorMessage"
        500:
          description: "Server error message"
          schema:
            $ref: "#/definitions/errorMessage"
      security:
        - google_id_token: []

definitions:
  responseMessage:
    type: "object"
    properties:
      message:
        type: "string"
      documentation:
        type: "string"
#      code:
#        type: "integer"

  programListResponse:
    type: "object"
    properties:
      programs:
        type: "array"
        items:
          type: "object"
          properties:
            short_name:
              type: "string"
            name:
              type: "string"
            description:
              type: "string"
            active:
              type: "boolean"
      code:
        type: "integer"

  collectionListResponse:
    type: "object"
    properties:
      collections:
        type: "array"
        items:
          type: "object"
          properties:
            short_name:
              type: "string"
            name:
              type: "string"
            description:
              type: "string"
            active:
              type: "boolean"
            is_public:
              type: "boolean"
            owner_id:
              type: "boolean"
            data_versions:
              type: "array"
              items:
                type: "object"
                properties:
                  data_type:
                    type: "string"
                  name:
                    type: "string"
                  version:
                    type: "string"
      code:
        type: "integer"

  collectionFieldsResponse:
    type: "object"
    properties:
      collection:
        type: "object"
        properties:
          collection_name:
            type: "string"
          attribute_group:
            type: "string"
          version:
            type: "string"
          active:
            type: "boolean"
          fields:
            type: "array"
            items:
              type: "object"
              properties:
                id:
                  type: "integer"
                name:
                  type: "string"
                display_name:
                  type: "string"
                description:
                  type: "string"
                data_type:
                  type: "string"
                active:
                  type: "boolean"
                cross_collections:
                  type: "boolean"
                preformatted_values:
                  type: "boolean"
                bq_table:
                  type: "string"
      code:
        type: "integer"

  cohortList:
    type: "array"
    items:
      $ref: "#/definitions/cohortMetadata"

  cohortMetadata:
    type: "object"
    properties:
      id:
        type: "integer"
      name:
        type: "string"
      description:
        type: "string"
      file_count:
        type: "integer"
      hashes:
        type: "array"
        items:
          type: "object"
          properties:
            hashtype:
              type: "string"
              enum: ["md5", "sha256", "sha512"]
            hash:
              type: "string"

  cohortResponse:
    type: "object"
    properties:
      cohort:
        type: "object"
        properties:
          filter:
            $ref: "#/definitions/filterSet"
          data:
            $ref: "#/definitions/cohortObject"
      code:
        type: "integer"
#    example:
#      name: "An example cohort name."
#      filters:
#        disease_code: ["BRCA","READ"]

  cohortSpec:
    type: "object"
    properties:
      name:
        type: "string"
      description:
        type: "string"
#      collections:
#        type: "array"
#        items:
#          $ref: "#/definitions/collection"
##        clinical:
      filterSet:
        $ref: "#/definitions/filterSet"

#  filterSet:
#    type: "object"
#    properties:
#      filter:
#        $ref: "#/definitions/FilterFacets"
#        $ref: "#/definitions/clinicalFilterFacets"
#        imaging:
#          $ref: "#/definitions/imagingFilterFacets"
#        derived:
#          $ref: "#/definitions/derivedFilterFacets"

#  clinicalFilterFacets:
  filterSet:
    type: "object"
    properties:
      bioclin_version:
        type: "string"
      imaging_version:
        type: "string"
      attributes:
        type: "object"
        properties:
          collection_id:
            type: "array"
            items:
              type: "string"
          program_name:
            type: "array"
            items:
              type: "string"
          case_barcode:
            type: "array"
            items:
              type: "string"
          case_gdc_id:
            type: "array"
            items:
              type: "string"
          program_dbgap_accession_number:
            type: "array"
            items:
              type: "string"
          project_short_name:
            type: "array"
            items:
              type: "string"
          project_name:
            type: "array"
            items:
              type: "string"
          clinical_stage:
            type: "array"
            items:
              type: "string"
          clinical_T:
            type: "array"
            items:
              type: "string"
          clinical_N:
            type: "array"
            items:
              type: "string"
          clinical_M:
            type: "array"
            items:
              type: "string"
          pathologic_stage:
            type: "array"
            items:
              type: "string"
          pathologic_T:
            type: "array"
            items:
              type: "string"
          pathologic_N:
            type: "array"
            items:
              type: "string"
          pathlogic_M:
            type: "array"
            items:
              type: "string"
          primary_neoplasm_melanoma_dx:
            type: "array"
            items:
              type: "string"
          anatomic_neoplasm_subdivision:
            type: "array"
            items:
              type: "string"
          country:
            type: "array"
            items:
              type: "string"
          other_dx:
            type: "array"
            items:
              type: "string"
          other_malignancy_anatomic_site:
            type: "array"
            items:
              type: "string"
          other_malignancy_type:
            type: "array"
            items:
              type: "string"
          other_malignancy_histological_type:
            type: "array"
            items:
              type: "string"
          history_of_neoadjuvant_treatment:
            type: "array"
            items:
              type: "string"
          primary_therapy_outcome_success:
            type: "array"
            items:
              type: "string"
          histological_type:
            type: "array"
            items:
              type: "string"
          neoplasm_histologic_grade:
            type: "array"
            items:
              type: "string"
          icd_10:
            type: "array"
            items:
              type: "string"
          icd_o_3_site:
            type: "array"
            items:
              type: "string"
          icd_o_3_histology:
            type: "array"
            items:
              type: "string"
          person_neoplasm_cancer_status:
            type: "array"
            items:
              type: "string"
          tumor_type:
            type: "array"
            items:
              type: "string"
          new_tumor_event_after_initial_treatment:
            type: "array"
            items:
              type: "string"
          lymphnodes_examined:
            type: "array"
            items:
              type: "string"
          lymphatic_invasion:
            type: "array"
            items:
              type: "string"
          venous_invasion:
            type: "array"
            items:
              type: "string"
          lymphovascular_invasion_present:
            type: "array"
            items:
              type: "string"
          bcr:
            type: "array"
            items:
              type: "string"
          tss_code:
            type: "array"
            items:
              type: "string"
          tobacco_smoking_history:
            type: "array"
            items:
              type: "string"
          mononucleotide_and_dinucleotide_marker_panel_analysis_status:
            type: "array"
            items:
              type: "string"
          h_pylori_infection:
            type: "array"
            items:
              type: "string"
          colorectal_cancer:
            type: "array"
            items:
              type: "string"
          history_of_colon_polyps:
            type: "array"
            items:
              type: "string"
          sample_barcode:
            type: "array"
            items:
              type: "string"
          sample_gdc_id:
            type: "array"
            items:
              type: "string"
          sample_type:
            type: "array"
            items:
              type: "string"
          sample_type_name:
            type: "array"
            items:
              type: "string"
          is_ffpe:
            type: "array"
            items:
              type: "string"
          disease_code:
            type: "array"
            items:
              type: "string"
          vital_status:
            type: "array"
            items:
              type: "string"
          gender:
            type: "array"
            items:
              type: "string"
          age_at_diagnosis:
            type: "array"
            items:
              type: "string"
          tumor_tissue_site:
            type: "array"
            items:
              type: "string"
          histological_site:
            type: "array"
            items:
              type: "string"
          pathological_stage:
            type: "array"
            items:
              type: "string"
          hpv_status:
            type: "array"
            items:
              type: "string"
          residual_tumor:
            type: "array"
            items:
              type: "string"
          race:
            type: "array"
            items:
              type: "string"
          ethnicity:
            type: "array"
            items:
              type: "string"
          days_to_last_known_alive:
            type: "array"
            items:
              type: "string"
          menopause_status:
            type: "array"
            items:
              type: "string"
          year_of_diagnosis:
            type: "array"
            items:
              type: "string"
          bmi:
            type: "array"
            items:
              type: "number"
          year_of_initial_pathologic_diagnosis:
            type: "array"
            items:
              type: "integer"
          days_to_birth:
            type: "array"
            items:
              type: "integer"
          days_to_death:
            type: "array"
            items:
              type: "integer"
          days_to_initial_pathologic_diagnosis:
            type: "array"
            items:
              type: "integer"
          days_to_last_followup:
            type: "array"
            items:
              type: "integer"
          days_to_submitted_specimen_dx:
            type: "array"
            items:
              type: "integer"
          number_of_lymphnodes_examined:
            type: "array"
            items:
              type: "integer"
          number_of_lymphnodes_positive_by_he:
            type: "array"
            items:
              type: "integer"
          batch_number:
            type: "array"
            items:
              type: "integer"
          age_began_smoking_in_years:
            type: "array"
            items:
              type: "integer"
          year_of_tobacco_smoking_onset:
            type: "array"
            items:
              type: "integer"
          stopped_smoking_year:
            type: "array"
            items:
              type: "integer"
          number_pack_years_smoked:
            type: "array"
            items:
              type: "integer"
          height:
            type: "array"
            items:
              type: "integer"
          weight:
            type: "array"
            items:
              type: "integer"
          pregnancies:
            type: "array"
            items:
              type: "integer"
          hpv_calls:
            type: "array"
            items:
              type: "integer"
          gleason_score_combined:
            type: "array"
            items:
              type: "integer"
          psa_value:
            type: "array"
            items:
              type: "number"
          days_to_collection:
            type: "array"
            items:
              type: "integer"
          days_to_sample_procurement:
            type: "array"
            items:
              type: "integer"
          num_portions:
            type: "array"
            items:
              type: "integer"
          num_slides:
            type: "array"
            items:
              type: "integer"
          avg_percent_lymphocyte_infiltration:
            type: "array"
            items:
              type: "number"
          avg_percent_monocyte_infiltration:
            type: "array"
            items:
              type: "number"
          avg_percent_necrosis:
            type: "array"
            items:
              type: "number"
          avg_percent_neutrophil_infiltration:
            type: "array"
            items:
              type: "number"
          avg_percent_normal_cells:
            type: "array"
            items:
              type: "number"
          avg_percent_stromal_cells:
            type: "array"
            items:
              type: "number"
          avg_percent_tumor_cells:
            type: "array"
            items:
              type: "number"
          avg_percent_tumor_nuclei:
            type: "array"
            items:
              type: "number"
          max_percent_lymphocyte_infiltration:
            type: "array"
            items:
              type: "number"
          max_percent_monocyte_infiltration:
            type: "array"
            items:
              type: "number"
          max_percent_necrosis:
            type: "array"
            items:
              type: "integer"
          max_percent_neutrophil_infiltration:
            type: "array"
            items:
              type: "integer"
          max_percent_normal_cells:
            type: "array"
            items:
              type: "integer"
          max_percent_stromal_cells:
            type: "array"
            items:
              type: "integer"
          max_percent_tumor_cells:
            type: "array"
            items:
              type: "integer"
          min_percent_tumor_nuclei:
            type: "array"
            items:
              type: "integer"
          min_percent_lymphocyte_infiltration:
            type: "array"
            items:
              type: "integer"
          min_percent_monocyte_infiltration:
            type: "array"
            items:
              type: "integer"
          min_percent_necrosis:
            type: "array"
            items:
              type: "integer"
          min_percent_neutrophil_infiltration:
            type: "array"
            items:
              type: "integer"
          min_percent_normal_cells:
            type: "array"
            items:
              type: "integer"
          min_percent_stromal_cells:
            type: "array"
            items:
              type: "integer"
          min_percent_tumor_cells:
            type: "array"
            items:
              type: "integer"
          bmi_lte:
            type: "array"
            items:
              type: "number"
          year_of_initial_pathologic_diagnosis_lte:
            type: "array"
            items:
              type: "integer"
          days_to_birth_lte:
            type: "array"
            items:
              type: "integer"
          days_to_death_lte:
            type: "array"
            items:
              type: "integer"
          days_to_initial_pathologic_diagnosis_lte:
            type: "array"
            items:
              type: "integer"
          days_to_last_followup_lte:
            type: "array"
            items:
              type: "integer"
          days_to_submitted_specimen_dx_lte:
            type: "array"
            items:
              type: "integer"
          number_of_lymphnodes_examined_lte:
            type: "array"
            items:
              type: "integer"
          number_of_lymphnodes_positive_by_he_lte:
            type: "array"
            items:
              type: "integer"
          batch_number_lte:
            type: "array"
            items:
              type: "integer"
          age_began_smoking_in_years_lte:
            type: "array"
            items:
              type: "integer"
          year_of_tobacco_smoking_onset_lte:
            type: "array"
            items:
              type: "integer"
          stopped_smoking_year_lte:
            type: "array"
            items:
              type: "integer"
          number_pack_years_smoked_lte:
            type: "array"
            items:
              type: "integer"
          height_lte:
            type: "array"
            items:
              type: "integer"
          weight_lte:
            type: "array"
            items:
              type: "integer"
          pregnancies_lte:
            type: "array"
            items:
              type: "integer"
          hpv_calls_lte:
            type: "array"
            items:
              type: "integer"
          gleason_score_combined_lte:
            type: "array"
            items:
              type: "integer"
          psa_value_lte:
            type: "array"
            items:
              type: "number"
          days_to_collection_lte:
            type: "array"
            items:
              type: "integer"
          days_to_sample_procurement_lte:
            type: "array"
            items:
              type: "integer"
          num_portions_lte:
            type: "array"
            items:
              type: "integer"
          num_slides_lte:
            type: "array"
            items:
              type: "integer"
          avg_percent_lymphocyte_infiltration_lte:
            type: "array"
            items:
              type: "number"
          avg_percent_monocyte_infiltration_lte:
            type: "array"
            items:
              type: "number"
          avg_percent_necrosis_lte:
            type: "array"
            items:
              type: "number"
          avg_percent_neutrophil_infiltration_lte:
            type: "array"
            items:
              type: "number"
          avg_percent_normal_cells_lte:
            type: "array"
            items:
              type: "number"
          avg_percent_stromal_cells_lte:
            type: "array"
            items:
              type: "number"
          avg_percent_tumor_cells_lte:
            type: "array"
            items:
              type: "number"
          avg_percent_tumor_nuclei_lte:
            type: "array"
            items:
              type: "number"
          max_percent_lymphocyte_infiltration_lte:
            type: "array"
            items:
              type: "number"
          max_percent_monocyte_infiltration_lte:
            type: "array"
            items:
              type: "number"
          max_percent_necrosis_lte:
            type: "array"
            items:
              type: "number"
          max_percent_neutrophil_infiltration_lte:
            type: "array"
            items:
              type: "number"
          max_percent_normal_cells_lte:
            type: "array"
            items:
              type: "number"
          max_percent_stromal_cells_lte:
            type: "array"
            items:
              type: "number"
          max_percent_tumor_cells_lte:
            type: "array"
            items:
              type: "number"
          min_percent_tumor_nuclei_lte:
            type: "array"
            items:
              type: "number"
          min_percent_lymphocyte_infiltration_lte:
            type: "array"
            items:
              type: "number"
          min_percent_monocyte_infiltration_lte:
            type: "array"
            items:
              type: "number"
          min_percent_necrosis_lte:
            type: "array"
            items:
              type: "number"
          min_percent_neutrophil_infiltration_lte:
            type: "array"
            items:
              type: "number"
          min_percent_normal_cells_lte:
            type: "array"
            items:
              type: "number"
          min_percent_stromal_cells_lte:
            type: "array"
            items:
              type: "number"
          min_percent_tumor_cells_lte:
            type: "array"
            items:
              type: "number"
          bmi_gte:
            type: "array"
            items:
              type: "number"
          year_of_initial_pathologic_diagnosis_gte:
            type: "array"
            items:
              type: "integer"
          days_to_birth_gte:
            type: "array"
            items:
              type: "integer"
          days_to_death_gte:
            type: "array"
            items:
              type: "integer"
          days_to_initial_pathologic_diagnosis_gte:
            type: "array"
            items:
              type: "integer"
          days_to_last_followup_gte:
            type: "array"
            items:
              type: "integer"
          days_to_submitted_specimen_dx_gte:
            type: "array"
            items:
              type: "integer"
          number_of_lymphnodes_examined_gte:
            type: "array"
            items:
              type: "integer"
          number_of_lymphnodes_positive_by_he_gte:
            type: "array"
            items:
              type: "integer"
          batch_number_gte:
            type: "array"
            items:
              type: "integer"
          age_began_smoking_in_years_gte:
            type: "array"
            items:
              type: "integer"
          year_of_tobacco_smoking_onset_gte:
            type: "array"
            items:
              type: "integer"
          stopped_smoking_year_gte:
            type: "array"
            items:
              type: "integer"
          number_pack_years_smoked_gte:
            type: "array"
            items:
              type: "integer"
          height_gte:
            type: "array"
            items:
              type: "integer"
          weight_gte:
            type: "array"
            items:
              type: "integer"
          pregnancies_gte:
            type: "array"
            items:
              type: "integer"
          hpv_calls_gte:
            type: "array"
            items:
              type: "integer"
          gleason_score_combined_gte:
            type: "array"
            items:
              type: "integer"
          psa_value_gte:
            type: "array"
            items:
              type: "number"
          days_to_collection_gte:
            type: "array"
            items:
              type: "integer"
          days_to_sample_procurement_gte:
            type: "array"
            items:
              type: "integer"
          num_portions_gte:
            type: "array"
            items:
              type: "integer"
          num_slides_gte:
            type: "array"
            items:
              type: "integer"
          avg_percent_lymphocyte_infiltration_gte:
            type: "array"
            items:
              type: "number"
          avg_percent_monocyte_infiltration_gte:
            type: "array"
            items:
              type: "number"
          avg_percent_necrosis_gte:
            type: "array"
            items:
              type: "number"
          avg_percent_neutrophil_infiltration_gte:
            type: "array"
            items:
              type: "number"
          avg_percent_normal_cells_gte:
            type: "array"
            items:
              type: "number"
          avg_percent_stromal_cells_gte:
            type: "array"
            items:
              type: "number"
          avg_percent_tumor_cells_gte:
            type: "array"
            items:
              type: "number"
          avg_percent_tumor_nuclei_gte:
            type: "array"
            items:
              type: "number"
          max_percent_lymphocyte_infiltration_gte:
            type: "array"
            items:
              type: "number"
          max_percent_monocyte_infiltration_gte:
            type: "array"
            items:
              type: "number"
          max_percent_necrosis_gte:
            type: "array"
            items:
              type: "number"
          max_percent_neutrophil_infiltration_gte:
            type: "array"
            items:
              type: "number"
          max_percent_normal_cells_gte:
            type: "array"
            items:
              type: "number"
          max_percent_stromal_cells_gte:
            type: "array"
            items:
              type: "number"
          max_percent_tumor_cells_gte:
            type: "array"
            items:
              type: "number"
          min_percent_tumor_nuclei_gte:
            type: "array"
            items:
              type: "number"
          min_percent_lymphocyte_infiltration_gte:
            type: "array"
            items:
              type: "number"
          min_percent_monocyte_infiltration_gte:
            type: "array"
            items:
              type: "number"
          min_percent_necrosis_gte:
            type: "array"
            items:
              type: "number"
          min_percent_neutrophil_infiltration_gte:
            type: "array"
            items:
              type: "number"
          min_percent_normal_cells_gte:
            type: "array"
            items:
              type: "number"
          min_percent_stromal_cells_gte:
            type: "array"
            items:
              type: "number"
          min_percent_tumor_cells_gte:
            type: "array"
            items:
              type: "number"
          bmi_btw:
            type: "array"
            items:
              type: "number"
          year_of_initial_pathologic_diagnosis_btw:
            type: "array"
            items:
              type: "integer"
          days_to_birth_btw:
            type: "array"
            items:
              type: "integer"
          days_to_death_btw:
            type: "array"
            items:
              type: "integer"
          days_to_initial_pathologic_diagnosis_btw:
            type: "array"
            items:
              type: "integer"
          days_to_last_followup_btw:
            type: "array"
            items:
              type: "integer"
          days_to_submitted_specimen_dx_btw:
            type: "array"
            items:
              type: "integer"
          number_of_lymphnodes_examined_btw:
            type: "array"
            items:
              type: "integer"
          number_of_lymphnodes_positive_by_he_btw:
            type: "array"
            items:
              type: "integer"
          batch_number_btw:
            type: "array"
            items:
              type: "integer"
          age_began_smoking_in_years_btw:
            type: "array"
            items:
              type: "integer"
          year_of_tobacco_smoking_onset_btw:
            type: "array"
            items:
              type: "integer"
          stopped_smoking_year_btw:
            type: "array"
            items:
              type: "integer"
          number_pack_years_smoked_btw:
            type: "array"
            items:
              type: "integer"
          height_btw:
            type: "array"
            items:
              type: "integer"
          weight_btw:
            type: "array"
            items:
              type: "integer"
          pregnancies_btw:
            type: "array"
            items:
              type: "integer"
          hpv_calls_btw:
            type: "array"
            items:
              type: "integer"
          gleason_score_combined_btw:
            type: "array"
            items:
              type: "integer"
          psa_value_btw:
            type: "array"
            items:
              type: "number"
          days_to_collection_btw:
            type: "array"
            items:
              type: "integer"
          days_to_sample_procurement_btw:
            type: "array"
            items:
              type: "integer"
          num_portions_btw:
            type: "array"
            items:
              type: "integer"
          num_slides_btw:
            type: "array"
            items:
              type: "integer"
          avg_percent_lymphocyte_infiltration_btw:
            type: "array"
            items:
              type: "number"
          avg_percent_monocyte_infiltration_btw:
            type: "array"
            items:
              type: "number"
          avg_percent_necrosis_btw:
            type: "array"
            items:
              type: "number"
          avg_percent_neutrophil_infiltration_btw:
            type: "array"
            items:
              type: "number"
          avg_percent_normal_cells_btw:
            type: "array"
            items:
              type: "number"
          avg_percent_stromal_cells_btw:
            type: "array"
            items:
              type: "number"
          avg_percent_tumor_cells_btw:
            type: "array"
            items:
              type: "number"
          avg_percent_tumor_nuclei_btw:
            type: "array"
            items:
              type: "number"
          max_percent_lymphocyte_infiltration_btw:
            type: "array"
            items:
              type: "number"
          max_percent_monocyte_infiltration_btw:
            type: "array"
            items:
              type: "number"
          max_percent_necrosis_btw:
            type: "array"
            items:
              type: "number"
          max_percent_neutrophil_infiltration_btw:
            type: "array"
            items:
              type: "number"
          max_percent_normal_cells_btw:
            type: "array"
            items:
              type: "number"
          max_percent_stromal_cells_btw:
            type: "array"
            items:
              type: "number"
          max_percent_tumor_cells_btw:
            type: "array"
            items:
              type: "number"
          min_percent_tumor_nuclei_btw:
            type: "array"
            items:
              type: "number"
          min_percent_lymphocyte_infiltration_btw:
            type: "array"
            items:
              type: "number"
          min_percent_monocyte_infiltration_btw:
            type: "array"
            items:
              type: "number"
          min_percent_necrosis_btw:
            type: "array"
            items:
              type: "number"
          min_percent_neutrophil_infiltration_btw:
            type: "array"
            items:
              type: "number"
          min_percent_normal_cells_btw:
            type: "array"
            items:
              type: "number"
          min_percent_stromal_cells_btw:
            type: "array"
            items:
              type: "number"
          min_percent_tumor_cells_btw:
            type: "array"
            items:
              type: "number"
    #
    #  imagingFilterFacets:
    #    type: "object"
    #    properties:
    #      Modality:
    #        type: "array"
    #        items:
    #          $ref: "#/definitions/modalities"
          SOPInstanceUID:
            type: "array"
            items:
               type: "string"
          SeriesInstanceUID:
            type: "array"
            items:
               type: "string"
          StudyInstanceUID:
            type: "array"
            items:
               type: "string"
          StudyDescription:
            type: "array"
            items:
               type: "string"
          SeriesDescription:
            type: "array"
            items:
               type: "string"
          BodyPartExamined:
            type: "array"
            items:
               type: "string"
          ScanningSequence:
            type: "array"
            items:
               type: "string"
               enum: ["SE", "IR", "GR", "EP", "RM"]
          SequenceVariant:
            type: "array"
            items:
               type: "string"
               enum: ["SK", "MTC", "SS", "TRSS", "SP", "MP", "OSP", "NONE"]
          ScanOptions:
            type: "array"
            items:
               type: "string"
               enum: ["EKG", "PHY", "TOMO", "CHASE", "ROTA"]
          SliceThickness:
            type: "array"
            items:
              type: "number"
          SliceThickness_btw:
            type: "array"
            items:
              type: "number"
          SliceThickness_gte:
            type: "array"
            items:
              type: "number"
          SliceThickness_lte:
            type: "array"
            items:
              type: "number"

#  derivedFilterFacets:
#    type: "object"
#    properties:
#      dummy:
#        type: "string"
#
  queryFields:
    type: "object"
    properties:
#      clinical:
      queryFields:
        $ref: "#/definitions/clinicalQueryFields"
#      imaging:
#        $ref: "#/definitions/imagingQueryFields"
#      derived:
#        $ref: "#/definitions/derivedQueryFields"

  clinicalQueryFields:
    type: "string"
    enum: [
      "program_name",
      "case_barcode",
      "case_gdc_id",
      "program_dbgap_accession_number",
      "project_short_name",
      "project_name",
      "clinical_stage",
      "clinical_T",
      "clinical_N",
      "clinical_M",
      "pathologic_stage",
      "pathologic_T",
      "pathologic_N",
      "pathlogic_M",
      "primary_neoplasm_melanoma_dx",
      "anatomic_neoplasm_subdivision",
      "country",
      "other_dx",
      "other_malignancy_anatomic_site",
      "other_malignancy_type",
      "other_malignancy_histological_type",
      "history_of_neoadjuvant_treatment",
      "primary_therapy_outcome_success",
      "histological_type",
      "neoplasm_histologic_grade",
      "icd_10",
      "icd_o_3_site",
      "icd_o_3_histology",
      "person_neoplasm_cancer_status",
      "tumor_type",
      "new_tumor_event_after_initial_treatment",
      "lymphnodes_examined",
      "lymphatic_invasion",
      "venous_invasion",
      "lymphovascular_invasion_present",
      "bcr",
      "tss_code",
      "tobacco_smoking_history",
      "mononucleotide_and_dinucleotide_marker_panel_analysis_status",
      "h_pylori_infection",
      "colorectal_cancer",
      "history_of_colon_polyps",
      "sample_barcode",
      "sample_gdc_id",
      "sample_type",
      "sample_type_name",
      "is_ffpe",
      "disease_code",
      "vital_status",
      "gender",
      "age_at_diagnosis",
      "tumor_tissue_site",
      "histological_site",
      "pathological_stage",
      "hpv_status",
      "residual_tumor",
      "race",
      "ethnicity",
      "days_to_birth",
      "days_to_death",
      "days_to_initial_pathologic_diagnosis",
      "days_to_last_followup",
      "days_to_submitted_specimen_dx",
      "year_of_initial_pathologic_diagnosis",
      "number_of_lymphnodes_examined",
      "number_of_lymphnodes_positive_by_he",
      "batch_number",
      "age_began_smoking_in_years",
      "year_of_tobacco_smoking_onset",
      "stopped_smoking_year",
      "number_pack_years_smoked",
      "height",
      "weight",
      "pregnancies",
      "hpv_calls",
      "gleason_score_combined",
      "psa_value",
      "days_to_collection",
      "days_to_sample_procurement",
      "num_portions",
      "num_slides",
      "avg_percent_lymphocyte_infiltration",
      "avg_percent_monocyte_infiltration",
      "avg_percent_necrosis",
      "avg_percent_neutrophil_infiltration",
      "avg_percent_normal_cells",
      "avg_percent_stromal_cells",
      "avg_percent_tumor_cells",
      "avg_percent_tumor_nuclei",
      "max_percent_lymphocyte_infiltration",
      "max_percent_monocyte_infiltration",
      "max_percent_necrosis",
      "max_percent_neutrophil_infiltration",
      "max_percent_normal_cells",
      "max_percent_stromal_cells",
      "max_percent_tumor_cells",
      "min_percent_tumor_nuclei",
      "min_percent_lymphocyte_infiltration",
      "min_percent_monocyte_infiltration",
      "min_percent_necrosis",
      "min_percent_neutrophil_infiltration",
      "min_percent_normal_cells",
      "min_percent_stromal_cells",
      "min_percent_tumor_cells",
      "age_at_diagnosis",
      "days_to_last_known_alive",
      "menopause_status",
      "year_of_diagnosis",
#    ]
#
#  imagingQueryFields:
#    type: "string"
#    enum: [
      "Modality",
      "Species",
#      "SOPInstanceUID",
#      "SeriesInstanceUID",
      "StudyInstanceUID",
      "StudyDescription",
#      "SeriesDescription",
      "BodyPartExamined",
    ]

#  derivedQueryFields:
#    type: "string"
#    enum: [
#      "dummy"
#    ]

  queryResponse:
    type: "object"
    properties:
      query_results:
        type: "array"
        items:
          type: "object"
          properties:
            clinical:
              $ref: "#/definitions/clinicalQueryResults"
#            imaging:
#              $ref: "#/definitions/imagingQueryResults"
#            derived:
#              $ref: "#/definitions/derivedQueryResults"
      code:
        type: "integer"



  clinicalQueryResults:
    type: "object"
    properties:
      program_name:
        type: "string"
      case_barcode:
        type: "string"
      case_gdc_id:
        type: "string"
      program_dbgap_accession_number:
        type: "string"
      project_short_name:
        type: "string"
      project_name:
        type: "string"
      clinical_stage:
        type: "string"
      clinical_T:
        type: "string"
      clinical_N:
        type: "string"
      clinical_M:
        type: "string"
      pathologic_stage:
        type: "string"
      pathologic_T:
        type: "string"
      pathologic_N:
        type: "string"
      pathlogic_M:
        type: "string"
      primary_neoplasm_melanoma_dx:
        type: "string"
      anatomic_neoplasm_subdivision:
        type: "string"
      country:
        type: "string"
      other_dx:
        type: "string"
      other_malignancy_anatomic_site:
        type: "string"
      other_malignancy_type:
        type: "string"
      other_malignancy_histological_type:
        type: "string"
      history_of_neoadjuvant_treatment:
        type: "string"
      primary_therapy_outcome_success:
        type: "string"
      histological_type:
        type: "string"
      neoplasm_histologic_grade:
        type: "string"
      icd_10:
        type: "string"
      icd_o_3_site:
        type: "string"
      icd_o_3_histology:
        type: "string"
      person_neoplasm_cancer_status:
        type: "string"
      tumor_type:
        type: "string"
      new_tumor_event_after_initial_treatment:
        type: "string"
      lymphnodes_examined:
        type: "string"
      lymphatic_invasion:
        type: "string"
      venous_invasion:
        type: "string"
      lymphovascular_invasion_present:
        type: "string"
      bcr:
        type: "string"
      tss_code:
        type: "string"
      tobacco_smoking_history:
        type: "string"
      mononucleotide_and_dinucleotide_marker_panel_analysis_status:
        type: "string"
      h_pylori_infection:
        type: "string"
      colorectal_cancer:
        type: "string"
      history_of_colon_polyps:
        type: "string"
      sample_barcode:
        type: "string"
      sample_gdc_id:
        type: "string"
      sample_type:
        type: "string"
      sample_type_name:
        type: "string"
      is_ffpe:
        type: "string"
      disease_code:
        type: "string"
      vital_status:
        type: "string"
      gender:
        type: "string"
      age_at_diagnosis:
        type: "integer"
      tumor_tissue_site:
        type: "string"
      histological_site:
        type: "string"
      pathological_stage:
        type: "string"
      hpv_status:
        type: "string"
      residual_tumor:
        type: "string"
      race:
        type: "string"
      ethnicity:
        type: "string"
      days_to_birth:
        type: "integer"
      days_to_death:
        type: "integer"
      days_to_initial_pathologic_diagnosis:
        type: "integer"
      days_to_last_followup:
        type: "integer"
      days_to_submitted_specimen_dx:
        type: "integer"
      year_of_initial_pathologic_diagnosis:
        type: "integer"
      number_of_lymphnodes_examined:
        type: "integer"
      number_of_lymphnodes_positive_by_he:
        type: "integer"
      batch_number:
        type: "integer"
      age_began_smoking_in_years:
        type: "integer"
      year_of_tobacco_smoking_onset:
        type: "integer"
      stopped_smoking_year:
        type: "integer"
      number_pack_years_smoked:
        type: "integer"
      height:
        type: "integer"
      weight:
        type: "integer"
      pregnancies:
        type: "integer"
      hpv_calls:
        type: "integer"
      gleason_score_combined:
        type: "integer"
      psa_value:
        type: "number"
      days_to_collection:
        type: "integer"
      days_to_sample_procurement:
        type: "integer"
      num_portions:
        type: "integer"
      num_slides:
        type: "integer"
      avg_percent_lymphocyte_infiltration:
        type: "number"
      avg_percent_monocyte_infiltration:
        type: "number"
      avg_percent_necrosis:
        type: "number"
      avg_percent_neutrophil_infiltration:
        type: "number"
      avg_percent_normal_cells:
        type: "number"
      avg_percent_stromal_cells:
        type: "number"
      avg_percent_tumor_cells:
        type: "number"
      avg_percent_tumor_nuclei:
        type: "number"
      max_percent_lymphocyte_infiltration:
        type: "number"
      max_percent_monocyte_infiltration:
        type: "number"
      max_percent_necrosis:
        type: "number"
      max_percent_neutrophil_infiltration:
        type: "number"
      max_percent_normal_cells:
        type: "number"
      max_percent_stromal_cells:
        type: "number"
      max_percent_tumor_cells:
        type: "number"
      min_percent_tumor_nuclei:
        type: "number"
      min_percent_lymphocyte_infiltration:
        type: "number"
      min_percent_monocyte_infiltration:
        type: "number"
      min_percent_necrosis:
        type: "number"
      min_percent_neutrophil_infiltration:
        type: "number"
      min_percent_normal_cells:
        type: "number"
      min_percent_stromal_cells:
        type: "number"
      min_percent_tumor_cells:
        type: "number"
      days_to_last_known_alive:
        type: "integer"
      menopause_status:
        type: "string"
      year_of_diagnosis:
        type: "integer"
#
#  imagingQueryResults:
#    type: "object"
#    properties:
      Modality:
        $ref: "#/definitions/modalities"
      BodyPartExamined:
        type: "string"
      Species:
        type: "string"
#      SOPInstanceUID:
#        type: "string"
#      SeriesInstanceUID:
#        type: "string"
      StudyInstanceUID:
        type: "string"
      StudyDescription:
        type: "string"
#      SeriesDescription:
#        type: "string"
#      ScanningSequence:
#        type: "string"
#        enum: ["SE", "IR", "GR", "EP", "RM"]
#      SequenceVariant:
#        type: "string"
#        enum: ["SK", "MTC", "SS", "TRSS", "SP", "MP", "OSP", "NONE"]
#      ScanOptions:
#        type: "string"
#        enum: ["EKG", "PHY", "TOMO", "CHASE", "ROTA"]
#      SliceThickness:
#        type: "integer"

  derivedQueryResults:
    type: "object"
    properties:
      dummy:
        type: "string"


  cohortObject:
    type: "object"
    properties:
      collections:
        type: "array"
        items:
          $ref: "#/definitions/collectionObject"

  collectionObject:
    type: "object"
    properities:
      collection:
        type: "object"
        properties:
          collection_name:
            type: "string"
          version:
            type: "string"
      patients:
        type: "array"
        items:
          $ref: "#/definitions/patientObject"

  patientObject:
    type: "object"
    properities:
      patient:
        patient_name:
          type: "string"
      studies:
        type: "array"
        items:
          $ref: "#/definitions/studyObject"

  studyObject:
    type: "object"
    properities:
      study:
        type: "object"
        properties:
          StudyInstanceUID:
            type: "string"
          DOI:
            type: "string"
          AccessMethods:
            type: "array"
            items:
              $ref: "#/definitions/accessMethod"
      series:
        type: "array"
        items:
          $ref: "#/definitions/seriesObject"


  seriesObject:
    type: "object"
    properities:
      series:
        type: "object"
        properties:
          SeriesInstanceUID:
            type: "string"
          DOI:
            type: "string"
          AccessMethods:
            type: "array"
            items:
              $ref: "#/definitions/accessMethod"
      instances:
        type: "array"
        items:
          $ref: "#/definitions/instanceObject"

  instanceObject:
    type: "object"
    properities:
      instance:
        type: "object"
        properties:
          SOPInstanceUID:
            type: "string"
          DOI:
            type: "string"
          accessMethods:
            type: "array"
            items:
              $ref: "#/definitions/accessMethod"

  collection:
    type: "object"
    properties:
      program_name:
        type: "string"
      collection_name:
        type: "string"
      data_versions:
        type: "array"
        items:
          type: "object"
          properties:
            attribute_group:
              type: "string"
            version:
              type: "string"

  manifestResponse:
    type: "object"
    properties:
      manifest:
        type: "array"
        items:
          type: "object"
          properties:
            collection:
              $ref: "#/definitions/collection"
            patient:
              type: "string"
            studyInstanceUID:
              type: "string"
            seriesInstanceUID:
              type: "string"
            SOPInstanceUID:
              type: "string"
            accessMethods:
              type: "array"
              items:
                $ref: "#/definitions/accessMethod"
      code:
        type: "integer"

  accessMethod:
    type: "object"
    properties:
      access_url:
        type: "string"
      region:
        type: "string"
      type:
        type: "string"
        enum: ["s3", "gs", "ftp", "gsiftp", "globus", "htsget", "https", "dcm", "file"]

  collectionNames:
    type: "string"
    enum: [
      "tcga_blca",
      "tcga_brca",
      "tcga_cesc",
      "tcga_coad",
      "tcga_esca",
      "tcga_gbm",
      "tcga_hnsc",
      "tcga_kich",
      "tcga_kirc",
      "tcga_kirp",
      "tcga_lgg",
      "tcga_luad",
      "tcga_kusc",
      "tcga_ov",
      "tcga_prad",
      "tcga_reas",
      "tcga_sarc",
      "tcga_stad",
      "tcga_thca",
      "tcga_ucec"
      ]

  modalities:
    type: "string"
    enum: [
      "CR",
      "CT",
      "CTPT",
      "DX",
      "FUSION",
      "KO",
      "MR",
      "MG",
      "NM",
      "OT",
      "PR",
      "PT",
      "REG",
      "RTDOSE",
      "RTPLAN",
      "RTSTRUCT",
      "RWV",
      "SC",
      "SEG",
      "SR",
      "US"
      ]

  anatomicalSites:
    type: "string"
    enum: [
      "BREAST",
      "ABD PEL",
      "ABD PELV",
      "ABDOMEN",
      "ABDOMENPELVIS",
      "BD CT ABD WO_W",
      "BLADDER",
      "BRAIN",
      "CAP",
      "CAROTID",
      "CERVIX",
      "CHEST",
      "CHEST_ABDOMEN",
      "CHEST_TO_PELVIS",
      "CHESTABDPELVIS",
      "COLON",
      "CT 3PHASE REN",
      "CT CHEST WO CE",
      "CT THORAX W CNT",
      "ESOPHAGUS",
      "EXTREMITY",
      "FUSION",
      "HEAD",
      "HEAD-NECK",
      "HEADANDNECK",
      "HEADNECK",
      "HEART",
      "J BRZUSZNA",
      "KIDNEY",
      "LEG",
      "LIVER",
      "LUMBO-SACRAL SP",
      "LUNG",
      "MEDIASTINUM",
      "NECK",
      "OVARY",
      "PANCREAS",
      "PELVIS",
      "PHANTOM",
      "PROSTATE",
      "RECTUM",
      "SEG",
      "SELLA",
      "SKULL",
      "STOMACH",
      "TH CT CHEST WO",
      "THORAX_1HEAD_NE",
      "THYROID",
      "TSPINE",
      "UNDEFINED",
      "UTERUS",
      "WO INTER"
      ]

  errorMessage:
    type: "object"
    properties:
      message:
        type: "string"
      code:
        type: "integer"
      not_found:
        type: "array"
        items:
          type: "string"

  accountDetailsResponse:
    type: "object"
    properties:
      dataset_access:
        type: "array"
        items:
          type: "string"
      code:
        type: "integer"

## [START securityDef]
securityDefinitions:
#  # This section configures basic authentication with an API key.
#  api_key:
#    type: "apiKey"
#    name: "key"
#    in: "query"
## [END securityDef]
#  # This section configures authentication using Google API Service Accounts
#  # to sign a json web token. This is mostly used for server-to-server
#  # communication.
#  google_jwt:
#    authorizationUrl: ""
#    flow: "implicit"
#    type: "oauth2"
#    # This must match the 'iss' field in the JWT.
#    x-google-issuer: "jwt-client.endpoints.sample.google.com"
#    # Update this with your service account's email address.
#    x-google-jwks_uri: "https://www.googleapis.com/service_accounts/v1/jwk/YOUR-SERVICE-ACCOUNT-EMAIL"
#    # This must match the "aud" field in the JWT. You can add multiple audiences to accept JWTs from multiple clients.
#    x-google-audiences: "echo.endpoints.sample.google.com"
#  # This section configures authentication using Google App Engine default
#  # service account to sign a json web token. This is mostly used for
#  # server-to-server communication.
#  gae_default_service_account:
#    authorizationUrl: ""
#    flow: "implicit"
#    type: "oauth2"
#    # Replace YOUR-CLIENT-PROJECT-ID with your client project ID.
#    x-google-issuer: "YOUR-CLIENT-PROJECT-ID@appspot.gserviceaccount.com"
#    # Replace YOUR-CLIENT-PROJECT-ID with your client project ID.
#    x-google-jwks_uri: "https://www.googleapis.com/robot/v1/metadata/x509/YOUR-CLIENT-PROJECT-ID@appspot.gserviceaccount.com"
#    # This must match the "aud" field in the JWT. You can add multiple audiences to accept JWTs from multiple clients.
#    x-google-audiences: "echo.endpoints.sample.google.com"
#  # This section configures authentication using a service account
#  # to sign a json web token. This is mostly used for server-to-server
#  # communication.
#  google_service_account:
#    authorizationUrl: ""
#    flow: "implicit"
#    type: "oauth2"
#    # Replace YOUR-SERVICE-ACCOUNT-EMAIL with your service account email.
#    x-google-issuer: "YOUR-SERVICE-ACCOUNT-EMAIL"
#    # Replace YOUR-SERVICE-ACCOUNT-EMAIL with your service account email.
#    x-google-jwks_uri: "https://www.googleapis.com/robot/v1/metadata/x509/YOUR-SERVICE-ACCOUNT-EMAIL"
#    # This must match the "aud" field in the JWT. You can add multiple audiences to accept JWTs from multiple clients.
#    x-google-audiences: "echo.endpoints.sample.google.com"
#  # This section configures authentication using Google OAuth2 ID Tokens.
#  # ID Tokens can be obtained using OAuth2 clients, and can be used to access
#  # your API on behalf of a particular user.
  google_id_token:
    authorizationUrl: ""
    flow: "implicit"
    type: "oauth2"
    x-google-issuer: "https://accounts.google.com"
    x-google-jwks_uri: "https://www.googleapis.com/oauth2/v3/certs"
    # Your OAuth2 client's Client ID must be added here. You can add multiple client IDs to accept tokens form multiple clients.
    x-google-audiences: "http://940486172223-69cjerk6429tp5ruumu1kc6p23eibdso.apps.googleusercontent.com/"
